<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="'chat' + ${chat?.name}"></title>
</head>
<body>

<br>
<div th:each="message : ${messages}">
    <span th:if="${message}" th:text="${message?.senderId} + ' --- ' + ${message?.sender} + ' --- ' + ${message?.message}"></span>
</div>

<br>
<br>
<form class="ajax-form" th:action="@{'/chat/' + ${chat?.id}} + '/send'" method="post">
    <div>
        <span>write msg:</span><input type="text" name="text" placeholder="..."/>
        <input type="submit" value="send" />
    </div>

</form>
<script th:inline="javascript">
    /*<![CDATA[*/

    var chatId = [[${chat.id}]];
    console.log("chatId: "  + chatId);

    /*]]>*/
</script>
<script type="text/javascript" th:src="@{/js/jQuery.js}"></script>
<script type="text/javascript" th:src="@{/js/form-control.js}"></script>
<script type="text/javascript" th:src="@{/js/update-messages.js}"></script>
</body>
</html>